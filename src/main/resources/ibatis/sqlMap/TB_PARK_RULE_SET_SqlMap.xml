<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="TB_PARK_RULE_SET" >
  <resultMap id="parkRuleSetMap" class="com.compass.park.model.ParkRuleSetBean" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    <result column="PARK_RULE_SET_ID" property="parkRuleSetId" jdbcType="VARCHAR" />
    <result column="RULE_NAME" property="ruleName" jdbcType="VARCHAR" />
    <result column="VEHICLE_TYPE" property="vehicleType" jdbcType="VARCHAR" />
    <result column="OUT_PARKING_ID" property="outParkingId" jdbcType="VARCHAR" />
    <result column="DAY_LIMIT" property="dayLimit" jdbcType="DECIMAL" />
    <result column="START_HOUR" property="startHour" jdbcType="VARCHAR" />
    <result column="END_HOUR" property="endHour" jdbcType="VARCHAR" />
    <result column="DATE_SET" property="dateSet" jdbcType="VARCHAR" />
    <result column="CHARGE_TYPE" property="chargeType" jdbcType="VARCHAR" />
    <result column="FREE_TIME" property="freeTime" jdbcType="DECIMAL" />
    <result column="SUB_CHARGE" property="subCharge" jdbcType="DECIMAL" />
    <result column="TIME_SLOT_LIMIT" property="timeSlotLimit" jdbcType="DECIMAL" />
    <result column="START_CHARGE_TIME" property="startChargeTime" jdbcType="DECIMAL" />
    <result column="START_CHARGE_PRICE" property="startChargePrice" jdbcType="DECIMAL" />
    <result column="CHARGE_TIME" property="chargeTime" jdbcType="DECIMAL" />
    <result column="CHARGE_PRICE" property="chargePrice" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="CREATE_USERID" property="createUserid" jdbcType="VARCHAR" />
    <result column="MODIFY_USERID" property="modifyUserid" jdbcType="VARCHAR" />
    <result column="CREATE_DATETIME" property="createDatetime" jdbcType="TIMESTAMP" />
    <result column="MODIFY_DATETIME" property="modifyDatetime" jdbcType="TIMESTAMP" />
    <result column="N_CHARGE_TYPE" property="nChargeType" jdbcType="VARCHAR" />
    <result column="N_FREE_TIME" property="nFreeTime" jdbcType="DECIMAL" />
    <result column="N_SUB_CHARGE" property="nSubCharge" jdbcType="DECIMAL" />
    <result column="N_TIME_SLOT_LIMIT" property="nTimeSlotLimit" jdbcType="DECIMAL" />
    <result column="N_START_CHARGE_TIME" property="nStartChargeTime" jdbcType="DECIMAL" />
    <result column="N_START_CHARGE_PRICE" property="nStartChargePrice" jdbcType="DECIMAL" />
    <result column="N_CHARGE_TIME" property="nChargeTime" jdbcType="DECIMAL" />
    <result column="N_CHARGE_PRICE" property="nChargePrice" jdbcType="DECIMAL" />
    <result column="N_START_HOUR" property="nStartHour" jdbcType="VARCHAR" />
    <result column="N_END_HOUR" property="nEndHour" jdbcType="VARCHAR" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="SUB_FREE_TIME" property="subFreeTime" jdbcType="DECIMAL" />
    <result column="N_SUB_FREE_TIME" property="nSubFreeTime" jdbcType="DECIMAL" />
  </resultMap>
  <sql id="parkRuleWhereClause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" resultMap="parkRuleSetMap" parameterClass="com.compass.park.model.ParkRuleSetBeanExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    select PARK_RULE_SET_ID, RULE_NAME, VEHICLE_TYPE, OUT_PARKING_ID, DAY_LIMIT, START_HOUR,
      END_HOUR, DATE_SET, CHARGE_TYPE, FREE_TIME, SUB_CHARGE, TIME_SLOT_LIMIT, START_CHARGE_TIME,
      START_CHARGE_PRICE, CHARGE_TIME, CHARGE_PRICE, STATUS, CREATE_USERID, MODIFY_USERID,
      CREATE_DATETIME, MODIFY_DATETIME, N_CHARGE_TYPE, N_FREE_TIME, N_SUB_CHARGE, N_TIME_SLOT_LIMIT,
      N_START_CHARGE_TIME, N_START_CHARGE_PRICE, N_CHARGE_TIME, N_CHARGE_PRICE, N_START_HOUR,
      N_END_HOUR, TYPE
    from TB_PARK_RULE_SET
    <isParameterPresent >
      <include refid="TB_PARK_RULE_SET.parkRuleWhereClause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.compass.park.model.ParkRuleSetBeanExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    delete from TB_PARK_RULE_SET
    <include refid="TB_PARK_RULE_SET.parkRuleWhereClause" />
  </delete>
  <insert id="addParkRuleSet" parameterClass="com.compass.park.model.ParkRuleSetBean" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    insert into TB_PARK_RULE_SET (PARK_RULE_SET_ID, RULE_NAME, VEHICLE_TYPE, OUT_PARKING_ID,
      DAY_LIMIT, START_HOUR, END_HOUR, DATE_SET, CHARGE_TYPE, FREE_TIME, SUB_CHARGE,
      TIME_SLOT_LIMIT, START_CHARGE_TIME, START_CHARGE_PRICE, CHARGE_TIME, CHARGE_PRICE, STATUS,
      CREATE_USERID, CREATE_DATETIME, N_CHARGE_TYPE, N_FREE_TIME,
      N_SUB_CHARGE, N_TIME_SLOT_LIMIT, N_START_CHARGE_TIME, N_START_CHARGE_PRICE, N_CHARGE_TIME,
      N_CHARGE_PRICE, N_START_HOUR, N_END_HOUR, TYPE,SUB_FREE_TIME,N_SUB_FREE_TIME)
    values (to_char(sysdate,'yyyyMMddhh24miss')||trunc(dbms_random.value(1000,9999)), #ruleName:VARCHAR#, #vehicleType:VARCHAR#,
      #outParkingId:VARCHAR#, #dayLimit:DECIMAL#, #startHour:VARCHAR#, #endHour:VARCHAR#,
      #dateSet:VARCHAR#, #chargeType:VARCHAR#, #freeTime:DECIMAL#, #subCharge:DECIMAL#,
      #timeSlotLimit:DECIMAL#, #startChargeTime:DECIMAL#, #startChargePrice:DECIMAL#,
      #chargeTime:DECIMAL#, #chargePrice:DECIMAL#, #status:VARCHAR#, #createUserid:VARCHAR#, sysdate,
      #nChargeType:VARCHAR#, #nFreeTime:DECIMAL#, #nSubCharge:DECIMAL#, #nTimeSlotLimit:DECIMAL#,
      #nStartChargeTime:DECIMAL#, #nStartChargePrice:DECIMAL#, #nChargeTime:DECIMAL#,
      #nChargePrice:DECIMAL#, #nStartHour:VARCHAR#, #nEndHour:VARCHAR#, #type:VARCHAR#, #subFreeTime:DECIMAL#, #nSubFreeTime:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.compass.park.model.ParkRuleSetBean" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    insert into TB_PARK_RULE_SET
    <dynamic prepend="(" >
      <isNotNull prepend="," property="parkRuleSetId" >
        PARK_RULE_SET_ID
      </isNotNull>
      <isNotNull prepend="," property="ruleName" >
        RULE_NAME
      </isNotNull>
      <isNotNull prepend="," property="vehicleType" >
        VEHICLE_TYPE
      </isNotNull>
      <isNotNull prepend="," property="outParkingId" >
        OUT_PARKING_ID
      </isNotNull>
      <isNotNull prepend="," property="dayLimit" >
        DAY_LIMIT
      </isNotNull>
      <isNotNull prepend="," property="startHour" >
        START_HOUR
      </isNotNull>
      <isNotNull prepend="," property="endHour" >
        END_HOUR
      </isNotNull>
      <isNotNull prepend="," property="dateSet" >
        DATE_SET
      </isNotNull>
      <isNotNull prepend="," property="chargeType" >
        CHARGE_TYPE
      </isNotNull>
      <isNotNull prepend="," property="freeTime" >
        FREE_TIME
      </isNotNull>
      <isNotNull prepend="," property="subCharge" >
        SUB_CHARGE
      </isNotNull>
      <isNotNull prepend="," property="timeSlotLimit" >
        TIME_SLOT_LIMIT
      </isNotNull>
      <isNotNull prepend="," property="startChargeTime" >
        START_CHARGE_TIME
      </isNotNull>
      <isNotNull prepend="," property="startChargePrice" >
        START_CHARGE_PRICE
      </isNotNull>
      <isNotNull prepend="," property="chargeTime" >
        CHARGE_TIME
      </isNotNull>
      <isNotNull prepend="," property="chargePrice" >
        CHARGE_PRICE
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="createUserid" >
        CREATE_USERID
      </isNotNull>
      <isNotNull prepend="," property="modifyUserid" >
        MODIFY_USERID
      </isNotNull>
      <isNotNull prepend="," property="createDatetime" >
        CREATE_DATETIME
      </isNotNull>
      <isNotNull prepend="," property="modifyDatetime" >
        MODIFY_DATETIME
      </isNotNull>
      <isNotNull prepend="," property="nChargeType" >
        N_CHARGE_TYPE
      </isNotNull>
      <isNotNull prepend="," property="nFreeTime" >
        N_FREE_TIME
      </isNotNull>
      <isNotNull prepend="," property="nSubCharge" >
        N_SUB_CHARGE
      </isNotNull>
      <isNotNull prepend="," property="nTimeSlotLimit" >
        N_TIME_SLOT_LIMIT
      </isNotNull>
      <isNotNull prepend="," property="nStartChargeTime" >
        N_START_CHARGE_TIME
      </isNotNull>
      <isNotNull prepend="," property="nStartChargePrice" >
        N_START_CHARGE_PRICE
      </isNotNull>
      <isNotNull prepend="," property="nChargeTime" >
        N_CHARGE_TIME
      </isNotNull>
      <isNotNull prepend="," property="nChargePrice" >
        N_CHARGE_PRICE
      </isNotNull>
      <isNotNull prepend="," property="nStartHour" >
        N_START_HOUR
      </isNotNull>
      <isNotNull prepend="," property="nEndHour" >
        N_END_HOUR
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="parkRuleSetId" >
        #parkRuleSetId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ruleName" >
        #ruleName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehicleType" >
        #vehicleType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outParkingId" >
        #outParkingId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dayLimit" >
        #dayLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="startHour" >
        #startHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endHour" >
        #endHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dateSet" >
        #dateSet:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="chargeType" >
        #chargeType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="freeTime" >
        #freeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="subCharge" >
        #subCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="timeSlotLimit" >
        #timeSlotLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="startChargeTime" >
        #startChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="startChargePrice" >
        #startChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="chargeTime" >
        #chargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="chargePrice" >
        #chargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUserid" >
        #createUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyUserid" >
        #modifyUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDatetime" >
        #createDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifyDatetime" >
        #modifyDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nChargeType" >
        #nChargeType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nFreeTime" >
        #nFreeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nSubCharge" >
        #nSubCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nTimeSlotLimit" >
        #nTimeSlotLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nStartChargeTime" >
        #nStartChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nStartChargePrice" >
        #nStartChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nChargeTime" >
        #nChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nChargePrice" >
        #nChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="nStartHour" >
        #nStartHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nEndHour" >
        #nEndHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        #type:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.compass.park.model.ParkRuleSetBeanExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    select count(*) from TB_PARK_RULE_SET
    <include refid="TB_PARK_RULE_SET.parkRuleWhereClause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    update TB_PARK_RULE_SET
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.parkRuleSetId" >
        PARK_RULE_SET_ID = #record.parkRuleSetId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.ruleName" >
        RULE_NAME = #record.ruleName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.vehicleType" >
        VEHICLE_TYPE = #record.vehicleType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.outParkingId" >
        OUT_PARKING_ID = #record.outParkingId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.dayLimit" >
        DAY_LIMIT = #record.dayLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.startHour" >
        START_HOUR = #record.startHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.endHour" >
        END_HOUR = #record.endHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.dateSet" >
        DATE_SET = #record.dateSet:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.chargeType" >
        CHARGE_TYPE = #record.chargeType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.freeTime" >
        FREE_TIME = #record.freeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.subCharge" >
        SUB_CHARGE = #record.subCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.timeSlotLimit" >
        TIME_SLOT_LIMIT = #record.timeSlotLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.startChargeTime" >
        START_CHARGE_TIME = #record.startChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.startChargePrice" >
        START_CHARGE_PRICE = #record.startChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.chargeTime" >
        CHARGE_TIME = #record.chargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.chargePrice" >
        CHARGE_PRICE = #record.chargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.status" >
        STATUS = #record.status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.createUserid" >
        CREATE_USERID = #record.createUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.modifyUserid" >
        MODIFY_USERID = #record.modifyUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.createDatetime" >
        CREATE_DATETIME = #record.createDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.modifyDatetime" >
        MODIFY_DATETIME = #record.modifyDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.nChargeType" >
        N_CHARGE_TYPE = #record.nChargeType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.nFreeTime" >
        N_FREE_TIME = #record.nFreeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nSubCharge" >
        N_SUB_CHARGE = #record.nSubCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nTimeSlotLimit" >
        N_TIME_SLOT_LIMIT = #record.nTimeSlotLimit:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nStartChargeTime" >
        N_START_CHARGE_TIME = #record.nStartChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nStartChargePrice" >
        N_START_CHARGE_PRICE = #record.nStartChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nChargeTime" >
        N_CHARGE_TIME = #record.nChargeTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nChargePrice" >
        N_CHARGE_PRICE = #record.nChargePrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.nStartHour" >
        N_START_HOUR = #record.nStartHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.nEndHour" >
        N_END_HOUR = #record.nEndHour:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.type" >
        TYPE = #record.type:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="TB_PARK_RULE_SET.parkRuleWhereClause" />
    </isParameterPresent>
  </update>
  <update id="updateParkRuleSetById" parameterClass="com.compass.park.model.ParkRuleSetBean">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Nov 08 21:06:55 CST 2017.
    -->
    update TB_PARK_RULE_SET
    set 
      RULE_NAME = #ruleName:VARCHAR#,
      VEHICLE_TYPE = #vehicleType:VARCHAR#,
      DAY_LIMIT = #dayLimit:DECIMAL#,
      START_HOUR = #startHour:VARCHAR#,
      END_HOUR = #endHour:VARCHAR#,
      DATE_SET = #dateSet:VARCHAR#,
      CHARGE_TYPE = #chargeType:VARCHAR#,
      FREE_TIME = #freeTime:DECIMAL#,
      SUB_CHARGE = #subCharge:DECIMAL#,
      TIME_SLOT_LIMIT = #timeSlotLimit:DECIMAL#,
      START_CHARGE_TIME = #startChargeTime:DECIMAL#,
      START_CHARGE_PRICE = #startChargePrice:DECIMAL#,
      CHARGE_TIME = #chargeTime:DECIMAL#,
      CHARGE_PRICE = #chargePrice:DECIMAL#,
      STATUS = #status:VARCHAR#,
      MODIFY_USERID = #modifyUserid:VARCHAR#,
      MODIFY_DATETIME = sysdate,
      N_CHARGE_TYPE = #nChargeType:VARCHAR#,
      N_FREE_TIME = #nFreeTime:DECIMAL#,
      N_SUB_CHARGE = #nSubCharge:DECIMAL#,
      N_TIME_SLOT_LIMIT = #nTimeSlotLimit:DECIMAL#,
      N_START_CHARGE_TIME = #nStartChargeTime:DECIMAL#,
      N_START_CHARGE_PRICE = #nStartChargePrice:DECIMAL#,
      N_CHARGE_TIME = #nChargeTime:DECIMAL#,
      N_CHARGE_PRICE = #nChargePrice:DECIMAL#,
      N_START_HOUR = #nStartHour:VARCHAR#,
      N_END_HOUR = #nEndHour:VARCHAR#,
      TYPE = #type:VARCHAR#,
      SUB_FREE_TIME = #subFreeTime:DECIMAL#,
      N_SUB_FREE_TIME = #nSubFreeTime:DECIMAL#
    where PARK_RULE_SET_ID = #parkRuleSetId:VARCHAR#
    and OUT_PARKING_ID = #outParkingId:VARCHAR#
  </update>
  
  <select id="getParkRuleSetCount" resultClass="java.lang.Integer">
  	select count(1) from TB_PARK_RULE_SET
  	where 1=1 
	<isNotEmpty prepend="and" property="outParkingId" >
        OUT_PARKING_ID = #outParkingId:VARCHAR#
    </isNotEmpty>
  </select>
  
  <select id="getParkRuleSetAll" resultClass="com.compass.park.model.ParkRuleSetBean">
  	select *
	  from (select b.*, rownum rn
	          from (select t.PARK_RULE_SET_ID     parkRuleSetId,
					       t.RULE_NAME            ruleName,
					       t.VEHICLE_TYPE         vehicleType,
					       t.OUT_PARKING_ID       outParkingId,
					       t.DAY_LIMIT            dayLimit,
					       t.START_HOUR           startHour,
					       t.END_HOUR             endHour,
					       t.DATE_SET             dateSet,
					       t.CHARGE_TYPE          chargeType,
					       t.FREE_TIME            freeTime,
					       t.SUB_CHARGE           subCharge,
					       t.TIME_SLOT_LIMIT      timeSlotLimit,
					       t.START_CHARGE_TIME    startChargeTime,
					       t.START_CHARGE_PRICE   startChargePrice,
					       t.CHARGE_TIME          chargeTime,
					       t.CHARGE_PRICE         chargePrice,
					       t.STATUS               status,
					       t.CREATE_USERID        createUserid,
					       t.MODIFY_USERID        modifyUserid,
					       t.CREATE_DATETIME      createDatetime,
					       t.MODIFY_DATETIME      modifyDatetime,
					       t.N_CHARGE_TYPE        nChargeType,
					       t.N_FREE_TIME          nFreeTime,
					       t.N_SUB_CHARGE         nSubCharge,
					       t.N_TIME_SLOT_LIMIT    nTimeSlotLimit,
					       t.N_START_CHARGE_TIME  nStartChargeTime,
					       t.N_START_CHARGE_PRICE nStartChargePrice,
					       t.N_CHARGE_TIME        nChargeTime,
					       t.N_CHARGE_PRICE       nChargePrice,
					       t.N_START_HOUR         nStartHour,
					       t.N_END_HOUR           nEndHour,
					       t.SUB_FREE_TIME		  subFreeTime,
		      			   t.N_SUB_FREE_TIME	  nSubFreeTime,
					       t.TYPE
			      from TB_PARK_RULE_SET t
			     where 1 = 1
				<isNotEmpty prepend="and" property="outParkingId" >
			        OUT_PARKING_ID = #outParkingId:VARCHAR#
			    </isNotEmpty>
				) b
	         where rownum <![CDATA[<=]]> #end#)
	 where rn > #start#
  </select>
  
  <select id="queryParkRuleSetByParkId" parameterClass="com.compass.park.model.ParkRuleSetBean" resultClass="com.compass.park.model.ParkRuleSetBean">
	  	select t.PARK_RULE_SET_ID     parkRuleSetId,
		       t.RULE_NAME            ruleName,
		       t.VEHICLE_TYPE         vehicleType,
		       t.OUT_PARKING_ID       outParkingId,
		       t.DAY_LIMIT            dayLimit,
		       t.START_HOUR           startHour,
		       t.END_HOUR             endHour,
		       t.DATE_SET             dateSet,
		       t.CHARGE_TYPE          chargeType,
		       t.FREE_TIME            freeTime,
		       t.SUB_CHARGE           subCharge,
		       t.TIME_SLOT_LIMIT      timeSlotLimit,
		       t.START_CHARGE_TIME    startChargeTime,
		       t.START_CHARGE_PRICE   startChargePrice,
		       t.CHARGE_TIME          chargeTime,
		       t.CHARGE_PRICE         chargePrice,
		       t.STATUS               status,
		       t.CREATE_USERID        createUserid,
		       t.MODIFY_USERID        modifyUserid,
		       t.CREATE_DATETIME      createDatetime,
		       t.MODIFY_DATETIME      modifyDatetime,
		       t.N_CHARGE_TYPE        nChargeType,
		       t.N_FREE_TIME          nFreeTime,
		       t.N_SUB_CHARGE         nSubCharge,
		       t.N_TIME_SLOT_LIMIT    nTimeSlotLimit,
		       t.N_START_CHARGE_TIME  nStartChargeTime,
		       t.N_START_CHARGE_PRICE nStartChargePrice,
		       t.N_CHARGE_TIME        nChargeTime,
		       t.N_CHARGE_PRICE       nChargePrice,
		       t.N_START_HOUR         nStartHour,
		       t.N_END_HOUR           nEndHour,
		       t.SUB_FREE_TIME		  subFreeTime,
		       t.N_SUB_FREE_TIME	  nSubFreeTime,
		       t.TYPE
  from TB_PARK_RULE_SET t
	 where t.out_parking_id = #outParkingId:VARCHAR# 
	 	and VEHICLE_TYPE = #vehicleType:VARCHAR# 
	 	and DATE_SET in
	 	<iterate property="dateSetList" open="(" close=")"  conjunction=",">  
            <![CDATA[  
                 #dateSetList[]#   
            ]]>   
        </iterate>
	 	and t.STATUS=1
  </select>
  
  	<select id="queryParkRuleSetByType" parameterClass="com.compass.park.model.ParkRuleSetBean" resultClass="com.compass.park.model.ParkRuleSetBean">
  		select t.PARK_RULE_SET_ID     parkRuleSetId,
		       t.RULE_NAME            ruleName,
		       t.VEHICLE_TYPE         vehicleType,
		       t.OUT_PARKING_ID       outParkingId,
		       t.DAY_LIMIT            dayLimit,
		       t.START_HOUR           startHour,
		       t.END_HOUR             endHour,
		       t.DATE_SET             dateSet,
		       t.CHARGE_TYPE          chargeType,
		       t.FREE_TIME            freeTime,
		       t.SUB_CHARGE           subCharge,
		       t.TIME_SLOT_LIMIT      timeSlotLimit,
		       t.START_CHARGE_TIME    startChargeTime,
		       t.START_CHARGE_PRICE   startChargePrice,
		       t.CHARGE_TIME          chargeTime,
		       t.CHARGE_PRICE         chargePrice,
		       t.STATUS               status,
		       t.CREATE_USERID        createUserid,
		       t.MODIFY_USERID        modifyUserid,
		       t.CREATE_DATETIME      createDatetime,
		       t.MODIFY_DATETIME      modifyDatetime,
		       t.N_CHARGE_TYPE        nChargeType,
		       t.N_FREE_TIME          nFreeTime,
		       t.N_SUB_CHARGE         nSubCharge,
		       t.N_TIME_SLOT_LIMIT    nTimeSlotLimit,
		       t.N_START_CHARGE_TIME  nStartChargeTime,
		       t.N_START_CHARGE_PRICE nStartChargePrice,
		       t.N_CHARGE_TIME        nChargeTime,
		       t.N_CHARGE_PRICE       nChargePrice,
		       t.N_START_HOUR         nStartHour,
		       t.N_END_HOUR           nEndHour,
		       t.SUB_FREE_TIME		  subFreeTime,
		       t.N_SUB_FREE_TIME	  nSubFreeTime,
		       t.TYPE
  from TB_PARK_RULE_SET t
	 where t.out_parking_id = #outParkingId:VARCHAR# 
	 	and VEHICLE_TYPE = #vehicleType:VARCHAR# 
	 	and t.STATUS=1
  	</select>
  	
  	<select id="checkParkRuleCount" parameterClass="com.compass.park.model.ParkRuleSetBean" resultClass="java.lang.Integer">
  		select count(1)
  		from TB_PARK_RULE_SET t
	 where t.out_parking_id = #outParkingId:VARCHAR# 
	 	and VEHICLE_TYPE = #vehicleType:VARCHAR# 
	 	and t.STATUS=1
	 	<isNotEmpty prepend="and" property="parkRuleSetId" >
	 	PARK_RULE_SET_ID != #parkRuleSetId:VARCHAR#
	 	</isNotEmpty>
  	</select>
</sqlMap>