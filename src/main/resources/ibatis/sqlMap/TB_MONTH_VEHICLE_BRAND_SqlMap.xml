<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="TB_MONTH_VEHICLE_BRAND">
  <resultMap class="com.compass.vehicle.model.MonthVehicleBrandBean" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    <result column="MONTH_VEHICLE_BRAND_ID" jdbcType="VARCHAR" property="monthVehicleBrandId" />
    <result column="CAR_NUMBER" jdbcType="VARCHAR" property="carNumber" />
    <result column="VEHICLE_BRAND_TYPE" jdbcType="VARCHAR" property="vehicleBrandType" />
    <result column="START_DATE" jdbcType="TIMESTAMP" property="startDate" />
    <result column="END_DATE" jdbcType="TIMESTAMP" property="endDate" />
    <result column="MONTH_PAY_AMOUNT" jdbcType="DECIMAL" property="monthPayAmount" />
    <result column="SCENE_STATE" jdbcType="VARCHAR" property="sceneState" />
    <result column="CAR_OWNER_NAME" jdbcType="VARCHAR" property="carOwnerName" />
    <result column="OUT_GATE" jdbcType="VARCHAR" property="outGate" />
    <result column="VEHICLE_PLACE" jdbcType="VARCHAR" property="vehiclePlace" />
    <result column="CAR_OWNER_ADDRES" jdbcType="VARCHAR" property="carOwnerAddres" />
    <result column="CAR_OWNER_PHONE" jdbcType="VARCHAR" property="carOwnerPhone" />
    <result column="CAR_OWNER_EMAIL" jdbcType="VARCHAR" property="carOwnerEmail" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="OUT_PARKING_ID" jdbcType="VARCHAR" property="outParkingId" />
    <result column="VEHICLE_BRAND" jdbcType="VARCHAR" property="vehicleBrand" />
    <result column="CREATE_USERID" jdbcType="VARCHAR" property="createUserid" />
    <result column="MODIFY_USERID" jdbcType="VARCHAR" property="modifyUserid" />
    <result column="CREATE_DATETIME" jdbcType="TIMESTAMP" property="createDatetime" />
    <result column="MODIFY_DATETIME" jdbcType="TIMESTAMP" property="modifyDatetime" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    select MONTH_VEHICLE_BRAND_ID, CAR_NUMBER, VEHICLE_BRAND_TYPE, START_DATE, END_DATE,
      MONTH_PAY_AMOUNT, SCENE_STATE, CAR_OWNER_NAME, OUT_GATE, VEHICLE_PLACE,
      CAR_OWNER_ADDRES, CAR_OWNER_PHONE, CAR_OWNER_EMAIL, REMARK, OUT_PARKING_ID, VEHICLE_BRAND,
      CREATE_USERID, MODIFY_USERID, CREATE_DATETIME, MODIFY_DATETIME
    from TB_MONTH_VEHICLE_BRAND
    <isParameterPresent>
      <include refid="TB_MONTH_VEHICLE_BRAND.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    delete from TB_MONTH_VEHICLE_BRAND
    <include refid="TB_MONTH_VEHICLE_BRAND.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="addMonthVehicleBrand" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    insert into TB_MONTH_VEHICLE_BRAND (MONTH_VEHICLE_BRAND_ID, CAR_NUMBER, VEHICLE_BRAND_TYPE,
      START_DATE, END_DATE, MONTH_PAY_AMOUNT, SCENE_STATE, CAR_OWNER_NAME, OUT_GATE,
      VEHICLE_PLACE, CAR_OWNER_ADDRES, CAR_OWNER_PHONE, CAR_OWNER_EMAIL, REMARK, OUT_PARKING_ID,
      VEHICLE_BRAND, CREATE_USERID, CREATE_DATETIME)
    values (to_char(sysdate,'yyyyMMddHH24miss') || replace(lpad(SEQ_MONTH_VEHICLE_BRAND.Nextval,9,'0'),'','0'), #carNumber:VARCHAR#, #vehicleBrandType:VARCHAR#,
      #startDate:TIMESTAMP#, #endDate:TIMESTAMP#, #monthPayAmount:DECIMAL#,
      #sceneState:VARCHAR#, #carOwnerName:VARCHAR#, #outGate:VARCHAR#, #vehiclePlace:VARCHAR#,
      #carOwnerAddres:VARCHAR#, #carOwnerPhone:VARCHAR#, #carOwnerEmail:VARCHAR#, #remark:VARCHAR#,
      #outParkingId:VARCHAR#, #vehicleBrand:VARCHAR#, #createUserid:VARCHAR#,sysdate)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    insert into TB_MONTH_VEHICLE_BRAND
    <dynamic prepend="(">
      <isNotNull prepend="," property="monthVehicleBrandId">
        MONTH_VEHICLE_BRAND_ID
      </isNotNull>
      <isNotNull prepend="," property="carNumber">
        CAR_NUMBER
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrandType">
        VEHICLE_BRAND_TYPE
      </isNotNull>
      <isNotNull prepend="," property="startDate">
        START_DATE
      </isNotNull>
      <isNotNull prepend="," property="endDate">
        END_DATE
      </isNotNull>
      <isNotNull prepend="," property="monthPayAmount">
        MONTH_PAY_AMOUNT
      </isNotNull>
      <isNotNull prepend="," property="sceneState">
        SCENE_STATE
      </isNotNull>
      <isNotNull prepend="," property="carOwnerName">
        CAR_OWNER_NAME
      </isNotNull>
      <isNotNull prepend="," property="outGate">
        OUT_GATE
      </isNotNull>
      <isNotNull prepend="," property="vehiclePlace">
        VEHICLE_PLACE
      </isNotNull>
      <isNotNull prepend="," property="carOwnerAddres">
        CAR_OWNER_ADDRES
      </isNotNull>
      <isNotNull prepend="," property="carOwnerPhone">
        CAR_OWNER_PHONE
      </isNotNull>
      <isNotNull prepend="," property="carOwnerEmail">
        CAR_OWNER_EMAIL
      </isNotNull>
      <isNotNull prepend="," property="remark">
        REMARK
      </isNotNull>
      <isNotNull prepend="," property="outParkingId">
        OUT_PARKING_ID
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrand">
        VEHICLE_BRAND
      </isNotNull>
      <isNotNull prepend="," property="createUserid">
        CREATE_USERID
      </isNotNull>
      <isNotNull prepend="," property="modifyUserid">
        MODIFY_USERID
      </isNotNull>
      <isNotNull prepend="," property="createDatetime">
        CREATE_DATETIME
      </isNotNull>
      <isNotNull prepend="," property="modifyDatetime">
        MODIFY_DATETIME
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="monthVehicleBrandId">
        #monthVehicleBrandId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carNumber">
        #carNumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrandType">
        #vehicleBrandType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startDate">
        #startDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="endDate">
        #endDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="monthPayAmount">
        #monthPayAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sceneState">
        #sceneState:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerName">
        #carOwnerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outGate">
        #outGate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehiclePlace">
        #vehiclePlace:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerAddres">
        #carOwnerAddres:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerPhone">
        #carOwnerPhone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerEmail">
        #carOwnerEmail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="remark">
        #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outParkingId">
        #outParkingId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrand">
        #vehicleBrand:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUserid">
        #createUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyUserid">
        #modifyUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDatetime">
        #createDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifyDatetime">
        #modifyDatetime:TIMESTAMP#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    select count(*) from TB_MONTH_VEHICLE_BRAND
    <include refid="TB_MONTH_VEHICLE_BRAND.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    update TB_MONTH_VEHICLE_BRAND
    <dynamic prepend="set">
      <isNotNull prepend="," property="monthVehicleBrandId">
        MONTH_VEHICLE_BRAND_ID = #monthVehicleBrandId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carNumber">
        CAR_NUMBER = #carNumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrandType">
        VEHICLE_BRAND_TYPE = #vehicleBrandType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startDate">
        START_DATE = #startDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="endDate">
        END_DATE = #endDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="monthPayAmount">
        MONTH_PAY_AMOUNT = #monthPayAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sceneState">
        SCENE_STATE = #sceneState:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerName">
        CAR_OWNER_NAME = #carOwnerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outGate">
        OUT_GATE = #outGate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehiclePlace">
        VEHICLE_PLACE = #vehiclePlace:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerAddres">
        CAR_OWNER_ADDRES = #carOwnerAddres:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerPhone">
        CAR_OWNER_PHONE = #carOwnerPhone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carOwnerEmail">
        CAR_OWNER_EMAIL = #carOwnerEmail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="remark">
        REMARK = #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outParkingId">
        OUT_PARKING_ID = #outParkingId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="vehicleBrand">
        VEHICLE_BRAND = #vehicleBrand:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUserid">
        CREATE_USERID = #createUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyUserid">
        MODIFY_USERID = #modifyUserid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDatetime">
        CREATE_DATETIME = #createDatetime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifyDatetime">
        MODIFY_DATETIME = #modifyDatetime:TIMESTAMP#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="TB_MONTH_VEHICLE_BRAND.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="updateMonthVehicleBrandById" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Nov 18 17:18:32 CST 2017.
    -->
    update TB_MONTH_VEHICLE_BRAND
    set 
      CAR_NUMBER = #carNumber:VARCHAR#,
      VEHICLE_BRAND_TYPE = #vehicleBrandType:VARCHAR#,
      START_DATE = #startDate:TIMESTAMP#,
      END_DATE = #endDate:TIMESTAMP#,
      MONTH_PAY_AMOUNT = #monthPayAmount:DECIMAL#,
      SCENE_STATE = #sceneState:VARCHAR#,
      CAR_OWNER_NAME = #carOwnerName:VARCHAR#,
      OUT_GATE = #outGate:VARCHAR#,
      VEHICLE_PLACE = #vehiclePlace:VARCHAR#,
      CAR_OWNER_ADDRES = #carOwnerAddres:VARCHAR#,
      CAR_OWNER_PHONE = #carOwnerPhone:VARCHAR#,
      CAR_OWNER_EMAIL = #carOwnerEmail:VARCHAR#,
      REMARK = #remark:VARCHAR#,
      VEHICLE_BRAND = #vehicleBrand:VARCHAR#,
      MODIFY_USERID = #modifyUserid:VARCHAR#,
      MODIFY_DATETIME =sysdate
   where MONTH_VEHICLE_BRAND_ID = #monthVehicleBrandId:VARCHAR#
    and OUT_PARKING_ID = #outParkingId:VARCHAR# 
  </update>
  
  <select id="getMonthVehicleBrandCount" resultClass="java.lang.Integer">
  	select count(1) from TB_MONTH_VEHICLE_BRAND
  	where 1=1 
  	<isNotEmpty property="carOwnerName" prepend="and">
		CAR_OWNER_NAME like '%$carOwnerName$%'
	</isNotEmpty>
	<isNotEmpty property="carNumber" prepend="and">
	    CAR_NUMBER like '%$carNumber$%'
	</isNotEmpty>
	<isNotEmpty prepend="and" property="outParkingId" >
        OUT_PARKING_ID = #outParkingId:VARCHAR#
    </isNotEmpty>
  </select>
  
  <select id="getMonthVehicleBrandAll" resultClass="com.compass.vehicle.model.MonthVehicleBrandBean">
  	select *
	  from (select b.*, rownum rn
	          from (select
					t.MONTH_VEHICLE_BRAND_ID monthVehicleBrandId,
					t.CAR_NUMBER carNumber,
					t.VEHICLE_BRAND_TYPE vehicleBrandType,
					t.START_DATE startDate,
					t.END_DATE endDate,
					t.MONTH_PAY_AMOUNT monthPayAmount,
					t.SCENE_STATE sceneState,
					t.CAR_OWNER_NAME carOwnerName,
					t.OUT_GATE outGate,
					t.VEHICLE_PLACE vehiclePlace,
					t.CAR_OWNER_ADDRES carOwnerAddres,
					t.CAR_OWNER_PHONE carOwnerPhone,
					t.CAR_OWNER_EMAIL carOwnerEmail,
					t.REMARK remark,
					t.OUT_PARKING_ID outParkingId,
					t.VEHICLE_BRAND vehicleBrand,
					t.CREATE_USERID createUserid,
					t.MODIFY_USERID modifyUserid,
					t.CREATE_DATETIME createDatetime,
					t.MODIFY_DATETIME modifyDatetime
					from TB_MONTH_VEHICLE_BRAND t
					where 1=1 
				<isNotEmpty property="carOwnerName" prepend="and">
					CAR_OWNER_NAME like '%$carOwnerName$%'
				</isNotEmpty>
				<isNotEmpty property="carNumber" prepend="and">
					CAR_NUMBER like '%$carNumber$%'
				</isNotEmpty>
				<isNotEmpty prepend="and" property="outParkingId" >
			        OUT_PARKING_ID = #outParkingId:VARCHAR#
			    </isNotEmpty>
				) b
	         where rownum <![CDATA[<=]]> #end#)
	 where rn > #start#
  </select>
  
  <select id="isMonthVehicleFlag" resultClass="java.lang.Integer" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean">
  	select count(1) from TB_MONTH_VEHICLE_BRAND
  	where CAR_NUMBER = #carNumber:VARCHAR#
     and   OUT_PARKING_ID = #outParkingId:VARCHAR#
     <![CDATA[
     and #stopDate:TIMESTAMP# >= start_date
     and #stopDate:TIMESTAMP# <= end_date
     ]]>
  </select>
  
  <select id="getMonthVehicleBrandExport" parameterClass="com.compass.vehicle.model.MonthVehicleBrandBean" resultClass="com.compass.vehicle.model.MonthVehicleBrandExportBean">
			select t.CAR_NUMBER carNumber,
			       to_char(t.START_DATE, 'yyyy-MM-dd') startDate,
			       to_char(t.END_DATE, 'yyyy-MM-dd') endDate,
			       t.MONTH_PAY_AMOUNT monthPayAmount,
			       t.VEHICLE_BRAND_TYPE vehicleBrandType,
			       t.CAR_OWNER_NAME carOwnerName,
			       t.CAR_OWNER_ADDRES carOwnerAddres,
			       t.CAR_OWNER_PHONE carOwnerPhone,
			       t.CAR_OWNER_EMAIL carOwnerEmail,
			       t.REMARK remark,
			       t.VEHICLE_BRAND vehicleBrand
			  from TB_MONTH_VEHICLE_BRAND t
			 where 1 = 1
		<isNotEmpty property="carOwnerName" prepend="and">
			CAR_OWNER_NAME like '%$carOwnerName$%'
		</isNotEmpty>
		<isNotEmpty property="carNumber" prepend="and">
			CAR_NUMBER like '%$carNumber$%'
		</isNotEmpty>
		<isNotEmpty prepend="and" property="outParkingId" >
	        OUT_PARKING_ID = #outParkingId:VARCHAR#
	    </isNotEmpty>
  </select>
</sqlMap>