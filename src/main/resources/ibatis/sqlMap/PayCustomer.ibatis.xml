<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="PAYCUSTOMER" >
  <resultMap id="PayCustomerResult" class="PayCustomer" >
    <result column="TIMESTAMP" property="timestamp" jdbcType="VARCHAR" />
    <result column="CUSTOMERID" property="customerid" jdbcType="VARCHAR" />
    <result column="USERNAME" property="username" jdbcType="VARCHAR" />
    <result column="CUSTOMERTYPE" property="customertype" jdbcType="VARCHAR" />
    <result column="CUSTOMERNAME" property="customername" jdbcType="VARCHAR" />
    <result column="CUSTOMERPIDTYPE" property="customerpidtype" jdbcType="VARCHAR" />
    <result column="CUSTOMERPID" property="customerpid" jdbcType="VARCHAR" />
    <result column="CUSTOMERREGDATE" property="customerregdate" jdbcType="VARCHAR" />
    <result column="BRANCHID" property="branchid" jdbcType="VARCHAR" />
    <result column="ATTENTION" property="attention" jdbcType="VARCHAR" />
    <result column="CUSTOMERTAG" property="customertag" jdbcType="VARCHAR" />
    <result column="VIPLEVEL" property="viplevel" jdbcType="DECIMAL" />
    <result column="LASTCHANGEDATE" property="lastchangedate" jdbcType="VARCHAR" />
    <result column="MEMO" property="memo" jdbcType="VARCHAR" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="CUSTOMERADDR" property="customeraddr" jdbcType="VARCHAR" />
    <result column="BUSINESSLICENCE" property="businesslicence" jdbcType="VARCHAR" />
    <result column="CHECKRANGE" property="checkrange" jdbcType="VARCHAR" />
    <result column="FIRSTREJECT" property="firstreject" jdbcType="DECIMAL" />
    <result column="FINALREJECT" property="finalreject" jdbcType="DECIMAL" />
    <result column="MOBILENOLOCATE" property="mobilenolocate" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="CREDITTAG" property="credittag" jdbcType="VARCHAR" />
    <result column="IDCARDVALIDBEGIN" property="idcardvalidbegin" jdbcType="VARCHAR" />
    <result column="IDCARDVALIDEND" property="idcardvalidend" jdbcType="VARCHAR" />
    <result column="CREDITVALID" property="creditvalid" jdbcType="VARCHAR" />
    <result column="AUDITFLAG" property="auditflag" jdbcType="VARCHAR" />
    <result column="PERFLAG" property="perflag" jdbcType="VARCHAR" />
    <result column="SHOPSTATUS" property="shopstatus" jdbcType="VARCHAR" />
    <result column="LASTRESETPASSWORD" property="lastresetpassword" jdbcType="VARCHAR" />
    <result column="FEATUREFLAG" property="featureflag" jdbcType="VARCHAR" />
    <result column="IS_EMPLOYEE" property="isEmployee" jdbcType="CHAR" />
    <result column="SIGNFLAG" property="signflag" jdbcType="VARCHAR" />
    <result column="SIGNREASON" property="signreason" jdbcType="VARCHAR" />
    <result column="SEX" property="sex" jdbcType="VARCHAR" />
    <result column="FAMILYNAME" property="familyname" jdbcType="VARCHAR" />
    <result column="BIRTHDAY" property="birthday" jdbcType="VARCHAR" />
    <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
    <result column="ISSUEDEPARTMENT" property="issuedepartment" jdbcType="VARCHAR" />
    <result column="ISGRAB" property="isgrab" jdbcType="VARCHAR" />
    <result column="IFNEWUSER" property="ifnewuser" jdbcType="VARCHAR" />
    <result column="IS_FANS" property="isFans" jdbcType="VARCHAR" />
    <result column="RTB_CUSTOMERID" property="rtbCustomerid" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap class="PayCustomer" id="PayCustomerByMobileResult">
    <result column="CUSTOMERID" property="customerid" jdbcType="VARCHAR" />
    <result column="USERNAME" property="username" jdbcType="VARCHAR" />
    <result column="CUSTOMERTYPE" property="customertype" jdbcType="VARCHAR" />
    <result column="CUSTOMERNAME" property="customername" jdbcType="VARCHAR" />
    <result column="CUSTOMERPID" property="customerpid" jdbcType="VARCHAR" />
    <result column="CUSTOMERTAG" property="customertag" jdbcType="VARCHAR" />
    <result column="CHECKRANGE" property="checkrange" jdbcType="VARCHAR" />
  </resultMap>


  <select id="selectPayCustomer" resultMap="PayCustomerResult" parameterClass="string" >
    select CUSTOMERID, USERNAME, CUSTOMERTYPE, CUSTOMERNAME, CUSTOMERPIDTYPE,
      CUSTOMERPID, CUSTOMERREGDATE, BRANCHID, ATTENTION, CUSTOMERTAG, VIPLEVEL, LASTCHANGEDATE,
      MEMO, EMAIL, CUSTOMERADDR, BUSINESSLICENCE, CHECKRANGE, FIRSTREJECT, FINALREJECT,
      MOBILENOLOCATE, REMARK, CREDITTAG, IDCARDVALIDBEGIN, IDCARDVALIDEND, CREDITVALID, AUDITFLAG,
      PERFLAG, SHOPSTATUS, LASTRESETPASSWORD, FEATUREFLAG, IS_EMPLOYEE, SIGNFLAG, SIGNREASON, SEX,
      FAMILYNAME, BIRTHDAY, ADDRESS, ISSUEDEPARTMENT, ISGRAB, IFNEWUSER, IS_FANS, RTB_CUSTOMERID
    from PAYCUSTOMER where CUSTOMERID = #customerid#
  </select>
  
  <!-- 查询瑞通宝App用户 -->
  <select id="selectPayCustomerByMobile" resultMap="PayCustomerByMobileResult" parameterClass="string" >
     select ps.CUSTOMERID, CUSTOMERNAME, CUSTOMERTYPE, USERNAME, CUSTOMERPID, CUSTOMERTAG, CHECKRANGE 
     from qtpay.PAYCUSTOMER ps, qtpay.payuser pu
     where ps.customerid = pu.customerid and  pu.branchid = '00800653' and pu.userid = #mobile# 
  </select>
  
  
  
  
</sqlMap>